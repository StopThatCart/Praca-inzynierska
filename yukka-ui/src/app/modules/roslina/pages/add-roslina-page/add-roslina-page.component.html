<div class="add-roslina-page py-5" >
  <div class="card bg-secondary" >
    <div class="card-header">
      <h4 class="card-title">Dodaj roślinę</h4>

      <app-error-msg [errorMsg]="errorMsg" [message]="message"></app-error-msg>
    </div>
    <div class="card-body">
      <form (ngSubmit)="addRoslina()" class="my-2">
        <div>
          <label class="form-label">Nazwa:</label>
          <input [(ngModel)]="request.nazwa"
          class="mb-2 form-control" name="nazwa" placeholder="nazwa" required />
        </div>
        <div *ngIf="isAddingDoKatalogu()">
          <label class="form-label">Nazwa Łacińska:</label>
          <input
          [(ngModel)]="request.nazwaLacinska"
          class="mb-2 form-control" name="nazwaLacinska" placeholder="nazwa łacińska" required />
        </div>
        <div>
          <label class="form-label">Opis:</label>
          <textarea [(ngModel)]="request.opis"
          class="mb-2 form-control" name="opis" placeholder="opis"></textarea>
        </div>
        <div class="my-2">
          <app-wysokosc-input
          [textColor]="'white'"
          (wysokoscMinChange)="onWysokoscMinChange($event)"
          (wysokoscMaxChange)="onWysokoscMaxChange($event)"
          >
          </app-wysokosc-input>
        </div>
        <app-image-upload 
        (fileSelected)="onFileSelected($event)"
        (clearImageEvent)="clearImage()">
        </app-image-upload>

        <div class="mb-3">
          <app-add-custom-wlasciwosc
          [wlasciwosciResponse]="wlasciwosciResponse"
          (customWlasciwoscAdded)="onCustomWlasciwoscAdded($event)">
        </app-add-custom-wlasciwosc>
        </div>


        <div>
          <label for="wlasciwosci">Właściwości:</label>
          <div *ngIf="request.wlasciwosci.length > 0; else noWlasciwosci">
            <app-wlasciwosc-tag
              [wlasciwosci]="request.wlasciwosci"
              (wlasciwoscRemoved)="onWlasciwoscRemoved($event)">
            </app-wlasciwosc-tag>
          </div>
          <ng-template #noWlasciwosci>
            <p>Nie wybrano żadnych właściwości.</p>
          </ng-template>
          <div class="row mb-1">
            <div class="col-md-4" *ngFor="let wlasciwosc of wlasciwosciResponse">
              <app-wlasciwosc-dropdown
                [wlasciwosciResponse]="[wlasciwosc]"
                [textColor]="'white'"
                [(selectedWlasciwosci)]="request.wlasciwosci"
                (selectedWlasciwosciChange)="onWlasciwoscToggled($event)">
              </app-wlasciwosc-dropdown>
            </div>
          </div>
        </div>
        <button class="btn btn-primary text-uppercase" type="submit">Dodaj Roślinę</button>
      </form>
    </div>
  </div>
</div>
