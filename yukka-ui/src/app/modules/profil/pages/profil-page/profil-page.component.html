<section class="mx-1">
  <div class="container p-2" style="background: var(--bs-secondary);border-radius: 5px;max-width: 800px;">
    <div class="row gx-5 gy-3 d-flex justify-content-center align-items-center py-3">
      <div class="gap-1 col-auto d-flex flex-column avatar-info">
        <img [src]="getAvatar()" class="rounded-circle mb-2 border border-3 border-success-subtle mr-3" width="250" height="250" alt="">
        <ng-container *ngIf="isCurrentUser() else wyslijWiadomosc">
          <button (click)="goToEdycjaProfil()" class="btn btn-primary btn-custom" role="button">Edytuj profil</button>
        </ng-container>

        <div class="btn-group gap-1 d-flex align-items-center justify-content-center">

          <ng-container *ngIf="isPracownikOrAdmin() && !isCurrentUser()">
            <app-ban-button
            [zglaszany]="uzyt.nazwa"
            [zbanowany]="uzyt.ban">
            </app-ban-button>

            <app-usun-konto-button
            [usuwany]="uzyt.nazwa">
            </app-usun-konto-button>
          </ng-container>

          <app-zgloszenie-button *ngIf="!isCurrentUser()"
          [typPowiadomienia]="typPowiadomienia.ZGLOSZENIE"
          [zglaszany]="uzyt.nazwa"
          [odnosnik]="uzyt.nazwa">
          </app-zgloszenie-button>
        </div>




        <ng-template #wyslijWiadomosc>
          <ng-container *ngIf="isZaproszony() else wyslijZaproszenie">
            <a (click)="goToRozmowa()" class="btn btn-primary btn-custom" role="button">Wyślij wiadomość</a>
          </ng-container>
          <ng-template #wyslijZaproszenie>
            <a *ngIf="!zaproszenieWyslane; else zaproszenieWyslaneText"
            (click)="zaprosDoRozmowaPrywatna()" class="btn btn-primary btn-custom" role="button">Zaproś</a>
            <ng-template #zaproszenieWyslaneText>
              <a class="btn btn-secondary btn-custom" role="button">Zaproszenie Wysłane!</a>
            </ng-template>
          </ng-template>
        </ng-template>
    </div>
      <div class="col-auto col-md-7">
          <h1 id="username-heading">{{ uzyt.nazwa }}</h1>
          <h5 *ngIf="uzyt.ban" class="text-danger">Zbanowany(a) do: <b>{{ uzyt.banDo }}</b> </h5>
          <ul class="list-unstyled fs-5 list-custom">
              <li id="list-username" *ngIf="uzyt.imie">Imię:&nbsp;
                <span class="text-break">{{ uzyt.imie }}</span>
              </li>
              <li id="list-other-city" *ngIf="uzyt.miasto">Miasto:&nbsp;
                <span class="text-break">{{ uzyt.miasto }}</span>
              </li>
              <li id="list-other-home" *ngIf="uzyt.miejsceZamieszkania">Miejsce zamieszkania:&nbsp;
                <span class="text-break">{{ uzyt.miejsceZamieszkania }}</span>
              </li>
          </ul>
      </div>
    </div>
    <div class="row gx-2 gy-2 justify-content-center align-items-center">
      <div class="col d-flex justify-content-center align-items-center mx-2">
          <a class="btn btn-outline-primary active btn-outline-custom" role="button" href="profil.html">Profil</a>
      </div>
      <div class="col d-flex justify-content-center align-items-center">
          <a (click)="goToOgrod()" class="btn btn-outline-primary btn-outline-custom" role="button">Ogród</a>
      </div>
      <div *ngIf="isCurrentUser() || isPracownikOrAdmin()" class="col d-flex justify-content-center align-items-center">
          <a (click)="goToPosty()" class="btn btn-outline-primary btn-outline-custom" role="button">Posty</a>
      </div>
      <div *ngIf="isCurrentUser() || isPracownikOrAdmin()" class="col d-flex justify-content-center align-items-center">
        <a (click)="goToKomentarze()" class="btn btn-outline-primary btn-outline-custom" role="button">Komentarze</a>
      </div>
      <div *ngIf="isCurrentUser()" class="col d-flex justify-content-center align-items-center">
          <a (click)="goToRozmowy()" class="btn btn-outline-primary btn-outline-custom" role="button">Rozmowy prywatne</a>
      </div>
  </div>

    <div *ngIf="uzyt.ustawienia?.statystykiProfilu" class="row gy-4 row-cols-2 row-cols-md-5 statystyki">
      <div class="col">
          <div class="bs-icon-xl bs-icon-circle bs-icon-primary bs-icon lg">
              <i class="fas fa-seedling"></i>
          </div>
          <div class="px-3">
              <h2 class="fw-bold mb-0">{{ statystyki.rosliny }}</h2>
              <p class="mb-0">Własnych roślin</p>
          </div>
      </div>
      <div class="col">
          <div class="bs-icon-xl bs-icon-circle bs-icon-primary bs-icon lg">
              <i class="fas fa-comment-alt"></i>
          </div>
          <div class="px-3">
              <h2 class="fw-bold mb-0">{{ statystyki.komentarze }}</h2>
              <p class="mb-0">Komentarzy</p>
          </div>
      </div>
      <div class="col">
          <div class="bs-icon-xl bs-icon-circle bs-icon-primary bs-icon lg">
              <i class="fas fa-signs-post fa-mailbox"></i>
          </div>
          <div class="px-3">
              <h2 class="fw-bold mb-0">{{ statystyki.posty }}</h2>
              <p class="mb-0">Postów</p>
          </div>
      </div>
      <div class="col">
          <div class="bs-icon-xl bs-icon-circle bs-icon-primary bs-icon lg">
              <i class="fas fa-thumbs-up"></i>
          </div>
          <div class="px-3">
              <h2 class="fw-bold mb-0">{{ getOcenyPozytywne() }}</h2>
              <p class="mb-0">Oceny pozytywne</p>
          </div>
      </div>
      <div class="col">
        <div class="bs-icon-xl bs-icon-circle bs-icon-primary bs-icon lg">
            <i class="fas fa-thumbs-down"></i>
        </div>
        <div class="px-3">
            <h2 class="fw-bold mb-0">{{ getOcenyNegatywne() }}</h2>
            <p class="mb-0">Oceny negatywne</p>
        </div>
    </div>
    </div>


    <div class="row p-3">
      <div class="col">
          <h2 class="display-6 border-ridge">O mnie:</h2>

            <p class="fs-6" *ngIf="uzyt.opis; else brakOpisu">{{ uzyt.opis }}</p>


          <ng-template #brakOpisu>
            <p class="fs-6">Brak opisu</p>
          </ng-template>



      </div>
    </div>
  </div>
</section>
